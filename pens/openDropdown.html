<!DOCTYPE html>
<html lang="zh-cmn-hans">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>JS模拟触发select下拉选择</title>
  <style>
    select {
      overflow: hidden;
      min-width: 120px;
    }
    option {
      width: 100%;
    }
    option.hover {
      background-color: #1e90ff;
      color: #fff
    }
  </style>
</head>
<body>

<select name="" id="sel">
  <option value="v1">v1</option>
  <option value="v2">v2</option>
  <option value="v3">v3</option>
  <option value="v4">v4</option>
  <option value="v5">v5</option>
</select>
<input type="button" value="open" id="btn-open">
<p>stubborn select menu</p>


<script src="../libs/jquery/jquery-2.1.4.min.js"></script>
<script>
  var $sel = $('#sel');
  var $selwrap = $('<div></div>');
  $selwrap.attr({
    id: $sel.attr('id') + '_wrap'
  }).css({
    'position': 'relative',
    'display': 'inline-block',
    'vertical-align': 'middle',
    'overflow': 'visible',
    'width': $sel.outerWidth(),
    'height': $sel.outerHeight(),
    'box-sizing': 'border-box'
  });
  $sel.wrap($selwrap).css({
    'position': 'absolute',
    'top': 0,
    'left': 0,
    'z-index': 1,
    'width': '100%'
  }).on({
    'click': function(){
      $(this).removeAttr('size');
    },
    'blur': function(){
      $(this).removeAttr('size');
    }
  });

  $sel.on('mouseenter','option', function(){
    $(this).addClass('hover').siblings('option').removeClass('hover');
  });

  $('#btn-open').on('click', function(){
    $sel.attr('size', $sel[0].options.length).trigger('focus');
  });

</script>
</body>
</html>
